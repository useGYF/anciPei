webpackJsonp([41],{1015:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"CaseSupervision"},[a("div",{staticClass:"main"},[a("div",{staticClass:"first"},[a("div",{staticClass:"shijian"},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","picker-options":t.pickerOptions0,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.starttime,callback:function(e){t.starttime=e},expression:"starttime"}})],1),t._v(" "),a("div",{staticStyle:{float:"left","line-height":"34px",padding:"0 3px"}},[t._v("-")]),t._v(" "),a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","picker-options":t.pickerOptions1,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.endtime,callback:function(e){t.endtime=e},expression:"endtime"}})],1)]),t._v(" "),a("div",{staticClass:"btnns"},[a("button",{on:{click:t.btnClickEvent}},[t._v("查询")])])]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"search"},[a("div",{staticClass:"block",staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"demonstration"},[t._v("责任主体")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.AddSelectName1},model:{value:t.EventSourceVal,callback:function(e){t.EventSourceVal=e},expression:"EventSourceVal"}},t._l(t.EventSources,function(t){return a("el-option",{key:t.Code,attrs:{label:t.Name,value:t.Code}})})),t._v(" "),a("span",{staticClass:"demonstration"},[t._v("网格占比")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.AddSelectName2},model:{value:t.EventTypeVal,callback:function(e){t.EventTypeVal=e},expression:"EventTypeVal"}},t._l(t.EventTypes,function(t){return a("el-option",{key:t.Code,attrs:{label:t.Name,value:t.Code}})}))],1)]),t._v(" "),a("div",{staticClass:"table_container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"sunnum",label:"违规次数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"企业名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"gridName",label:"所属乡镇"}}),t._v(" "),a("el-table-column",{attrs:{prop:"responsibilityName",label:"责任主体"}})],1)],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chars-tubiao"},[a("div",{staticClass:"title-daqi"},[a("div",{staticClass:"shuxian"}),t._v(" "),a("div",{staticClass:"title-text"},[a("div",{staticClass:"bing_text"},[t._v("责任主体占比")])])]),t._v(" "),a("div",{},[a("div",{staticStyle:{width:"390px",height:"180px","padding-left":"14px"},attrs:{id:"bing_item_1p"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chars-tubiao"},[a("div",{staticClass:"title-daqi"},[a("div",{staticClass:"shuxian"}),t._v(" "),a("div",{staticClass:"title-text"},[a("div",{staticClass:"bing_text"},[t._v("网格占比")])])]),t._v(" "),a("div",{},[a("div",{staticStyle:{width:"390px",height:"180px","padding-left":"14px"},attrs:{id:"bing_item_2p"}})])])}]}},830:function(t,e,a){function i(t){a(968)}var n=a(1)(a(877),a(1015),i,"data-v-1c3a3d3d",null);t.exports=n.exports},877:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(7),n=a(6);e.default={name:"Reportpeople",data:function(){return{tableData:[],alldata:[],currentRow:null,pageSize:10,currentPage:1,totalCount:10,pickerOptions0:{},pickerOptions1:{},starttime:"",endtime:"",pageNo:1,AddObj1:{},AddObj2:{},EventSourceVal:"",EventSources:[{Code:"",Name:"全部"}],EventTypeVal:"",EventTypes:[{Code:"",Name:"全部"}]}},created:function(){},mounted:function(){var t=this;t.GetCaseNum(),t.GetCaseType(),t.GetCaseDate(),t.GetSlecetList()},methods:{AddSelectName1:function(t){this.AddObj1={},this.AddObj1=this.EventSources.find(function(e){if(t===e.Code)return e}),this.GetCaseDate()},AddSelectName2:function(t){this.AddObj2={},this.AddObj2=this.EventTypes.find(function(e){if(t===e.Code)return e}),this.GetCaseDate()},GetSlecetList:function(){var t=this;n.a.GetCaseAll().then(function(e){console.log(e.data.data),t.EventSources=e.data.data.map(function(t){return{Code:t.id,Name:t.name}})}),n.a.GetIGyGridinfo().then(function(e){console.log(e.data.data),t.EventTypes=e.data.data.map(function(t){return{Code:t.id,Name:t.name}})})},compare:function(t){return function(e,a){var i=e[t];return a[t]-i}},GetCaseDate:function(){var t=this,e=t.AddObj2.Code||"",a=t.AddObj1.Code||"",i=t.starttime?t.starttime:"",s=t.endtime?t.endtime:"";n.a.GetCompanysList("",e,"",a,i,s,"").then(function(e){t.InitializationDataMethod(e.data.data)})},GetCaseNum:function(){var t=this,e=this.starttime?this.starttime:"",a=this.endtime?this.endtime:"";n.a.SupResponsibilityRatio("",e,a).then(function(e){console.log(e);var a=e.data.data;t.NumberCasesChars(a)})},GetCaseType:function(){var t=this,e=this.starttime?this.starttime:"",a=this.endtime?this.endtime:"";n.a.SuperviseCaseGridRatio("",e,a).then(function(e){console.log(e);var a=e.data.data;t.TypeCasesChars(a)})},InitializationDataMethod:function(t){var e=this;e.tableData=[],t.forEach(function(t){var a={};a.responsibilityName=t.responsibilityName,a.name=t.name,a.gridName=t.gridName,a.latitude=t.latitude,a.longitude=t.longitude,a.id=t.id,a.sunnum=t.sunnum,e.tableData.push(a)})},RowCurrentChange:function(t){i.a.$emit("locationClick","layer_qm",this.currentRow,this.type)},btnClickEvent:function(){this.GetCaseDate()},NumberCasesChars:function(t){var e=t.map(function(t){return{value:t.casenum,name:t.name}})||[],a=t.map(function(t){return{name:t.name}})||[],i=echarts.init(document.getElementById("bing_item_1p")),n={legend:{orient:"right",y:"center",left:160,data:a},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"责任主体占比",type:"pie",radius:"70%",center:["20%","50%"],hoverAnimation:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"}}},data:[{value:335,name:"开发区"},{value:310,name:"广阳区"},{value:234,name:"安次区"}]}]};i.setOption(n),i.setOption({series:[{data:e,color:["#08a1ed","#a2c73b","#f2cd49","#85dbce","#ce93e3","#6c68e1","#e5763f"]}]})},TypeCasesChars:function(t){var e=t.map(function(t){return{value:t.casenum,name:t.name}})||[],a=t.map(function(t){return{name:t.name}})||[],i=echarts.init(document.getElementById("bing_item_2p")),n={legend:{type:"scroll",left:170,orient:"vertical",top:10,right:30,bottom:0,data:a},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"网格占比",type:"pie",radius:"70%",center:["20%","50%"],hoverAnimation:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"}}},data:[]}]};i.setOption(n),i.setOption({series:[{data:e,color:["#08a1ed","#a2c73b","#f2cd49","#85dbce","#ce93e3","#6c68e1","#e5763f"]}]})}},components:{}}},925:function(t,e,a){e=t.exports=a(828)(!1),e.push([t.i,".CaseSupervision[data-v-1c3a3d3d]{width:430px;height:auto}.CaseSupervision .search[data-v-1c3a3d3d]{margin-left:20px;text-align:left;margin-bottom:24px}.CaseSupervision .search .searchBox[data-v-1c3a3d3d]{display:inline-block;margin-right:20px}.CaseSupervision .search .block[data-v-1c3a3d3d]{display:inline-block;width:100%}.CaseSupervision .search .block .el-select[data-v-1c3a3d3d]{margin-right:30px;margin-left:10px}.CaseSupervision .search .block .el-date-editor[data-v-1c3a3d3d]{width:514px;margin-left:10px;margin-right:20px}.CaseSupervision .search .block .el-input[data-v-1c3a3d3d]{margin-left:10px}.CaseSupervision .search .btns[data-v-1c3a3d3d]{margin-left:30px}.CaseSupervision .title-daqi[data-v-1c3a3d3d]{width:100%;height:36px}.CaseSupervision .title-daqi .shuxian[data-v-1c3a3d3d]{width:3px;height:24px;background:#1fa1ff;float:left;margin-left:10px}.CaseSupervision .title-daqi .title-text[data-v-1c3a3d3d]{float:left;font-weight:700;line-height:24px;padding-left:10px;text-align:left}.CaseSupervision img[data-v-1c3a3d3d]{position:absolute;top:40%;left:-17px;cursor:pointer;float:left}.CaseSupervision .main[data-v-1c3a3d3d]{height:auto}.CaseSupervision .main .pan-anniu[data-v-1c3a3d3d]{width:100%;height:40px;text-align:right;padding:10px 20px}.CaseSupervision .main .kbiaoti[data-v-1c3a3d3d]{padding:10px 0}.CaseSupervision .main .bluexian[data-v-1c3a3d3d]{width:26px;border:1px solid #1080cc;margin:0 auto}.CaseSupervision .main .first[data-v-1c3a3d3d]{width:100%;height:44px;margin-top:30px}.CaseSupervision .main .first .tables[data-v-1c3a3d3d]{float:left;margin-left:14px}.CaseSupervision .main .first .tables a[data-v-1c3a3d3d]{padding:0 15px;float:left;text-decoration:none;color:#666;display:inline-block;line-height:34px;width:100px;height:34px;margin-right:16px;border:1px solid #ccc;background:#fff;border-radius:2px}.CaseSupervision .main .first .shijian[data-v-1c3a3d3d]{float:left;margin-left:10px}.CaseSupervision .main .first .shijian .block[data-v-1c3a3d3d]{width:150px;float:left}.CaseSupervision .main .first .btnns[data-v-1c3a3d3d]{float:left;margin-left:6px}.CaseSupervision .main .first .btnns button[data-v-1c3a3d3d]{border:none;width:80px;height:34px;background:#1fa1ff;color:#fff;border-radius:4px}.CaseSupervision .main .tqbiaoti[data-v-1c3a3d3d]{width:100%;height:22px;padding-left:20px;text-align:left;margin-left:16px;border-left:3px solid #2a6496}.CaseSupervision .main .table_container[data-v-1c3a3d3d]{margin-left:6px}",""])},968:function(t,e,a){var i=a(925);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(829)("503b3699",i,!0,{})}});